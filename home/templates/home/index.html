{% extends "base.html" %}
{% load static %}

{% block content %}

        <!--START for model based searching-->
        <div class="showcase">
          <div class="container">
              <div class="row">
                  <div class="col-md-8 d-flex align-items-center">
                      <div class="block clearfix search-box">
                          <div class="introInner">
                              <h2><br>Search for Your Device Below &</h2>
                              <h3>Find Out How Much It's Worth Instantly!</h3>
                          </div>
                          <form action="{% url 'search_results' %}" method="get" class="search-form" id="search-form">
                            <div class="input-group">
                                <input type="text" name="search" id="search-input" class="form-control search-input" placeholder="Enter your model" aria-label="Enter your model" aria-describedby="basic-addon1">
                                <div class="input-group-append">
                                    <button type="submit" id="search-button" class="input-group-text btn btn-primary">
                                        <img src="{% static 'images/search.png' %}" alt="search">
                                    </button>
                                </div>
                            </div>
                            <ul id="suggestions-list"></ul>
                            
                        </form>

                        <span id="error-message" class="error-message"></span>
                        
  
                          <!-- Display error message if search query is empty -->
                          {% if error_message %}
                              <div class="alert alert-danger mt-3">
                                  {{ error_message }}
                              </div>
                          {% endif %}
                      </div>
                  </div>
                  <div class="col-md-4">
                      <div class="block clearfix mobile-box">
                          <img src="{% static 'images/header-mobile.png' %}" alt="Home">
                      </div>
                  </div>
              </div>
          </div>
      </div>
  <!--START for model based searching-->
  
  <main>
  
	    
    <section class="sell-steps">
      <div class="container">
        <div class="row">
          <div class="col-md-12">
            <div class="block clearfix heading h-black">
              <h2>Sell your gadget in <span>4 simple steps</span></h2>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-3">
            <div class="block clearfix step">
              <img src="{% static 'images/steps/step1.png' %}" alt="step 1">
              <div class="content">
                <p>STEP 1</p>
                <h4>Register Sale</h4>
              </div>
            </div>
          </div>
          <div class="col-md-3">
            <div class="block clearfix step">
              <img src="{% static 'images/steps/step2.png' %}" alt="step 2">
              <div class="content">
                <p>STEP 2</p>
                <h4>Get FREE Postage</h4>
              </div>
            </div>
          </div>
          <div class="col-md-3">
            <div class="block clearfix step">
              <img src="{% static 'images/steps/step3.png' %}" alt="step 3">
              <div class="content">
                <p>STEP 3</p>
                <h4>Post Your Gadget</h4>
              </div>
            </div>
          </div>
          <div class="col-md-3">
            <div class="block clearfix step">
              <img src="{% static 'images/steps/step4.png' %}" alt="step 4">
              <div class="content">
                <p>STEP 4</p>
                <h4>Get Fast Payment</h4>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

   <!-- Popular devices start here -->
   <section class="popular-devices-section popular-items-middle">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="block clearfix heading h-black">
                    <h2>Sell by <span>Categories</span></h2>
                </div>
            </div>
        </div>
        <div class="row category-grid">
                {% for category in categories %}
                <div class="col-6 col-md-4 col-lg-3 mb-4">
                  <a href="{% url 'category_brands' category_slug=category.slug %}" class="category-item text-center d-block">
                        {% if category.image %}
                            <img src="{{ category.image.url }}" alt="{{ category.name }}" class="category-image img-fluid mb-3">
                        {% else %}
                            <img src="{% static 'images/default-image.jpg' %}" alt="Default Image" class="category-image img-fluid mb-3">
                        {% endif %}
                        <h4>{{ category.name }}</h4>
                    </a>
                    </div>
                {% endfor %}
            </div>
        </div>
</section>


<!-- Popular devices end here -->





    <!---ends-->

    <!---Brands start Here-->
			        
        
      
    <!---Ends-->

    <style>
      /* Add this to your styles.css file */
      
/* Error message styles */
.error-message {
  color: #ff0800;  /* Red color for error */
  background-color: #ffffff;  /* Light red background */
  border: 1px solid #ebccd1;  /* Red border */
  padding: 10px;
  margin-top: 10px;
  border-radius: 5px;
  font-size: 16px;
  font-weight: bold;
  display: none;  /* Hide by default */
  text-align: center;
}

/* Optional: Style for the input field when there's an error */
.search-input.error {
  border-color: #d9534f;  /* Red border */
  box-shadow: 0 0 5px rgba(211, 53, 79, 0.5);  /* Subtle glow effect */
}

      #suggestions-list {
  max-height: 200px;
  overflow-y: auto;
  width: 100%;
  background-color: #fff;
  z-index: 1000;
  display: inline-block;
  list-style-type: none;
  padding: 0;
}

#suggestions-list li {
  padding: 8px;
  cursor: pointer;
  border-bottom: 1px solid #998c8c;
  font-size: 15px;
  font-weight: 500;
}

#suggestions-list li:hover {
  background-color: #f0f0f0;
}


/* Individual Category Item Styling */
.category-item {
    background-color: #f8f9fa;
    border: 1px solid #ddd;
    border-radius: 8px;
    text-decoration: none;
    color: inherit;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.category-item:hover {
    transform: translateY(-5px);
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
}

/* Category Image */
.category-image {
    max-height: 150px;
    object-fit: contain;
    display: block;
    margin: 0 auto;
    padding: 10px;
}

/* Category Name */
.category-name {
    font-size: 1rem;
    font-weight: 600;
    margin-top: 10px;
    color: #333;
    text-transform: capitalize;
}

/* Styling the h4 inside category-item */
.category-item h4 {
    font-size: 20px;
    font-weight: bold;
    margin-top: 10px;
    color: #555; /* Adjust the color to your preference */
    text-transform: uppercase;
    transition: color 0.3s ease;
}

.category-item:hover h4 {
    color: #007bff; /* Change color on hover */
}



@media (max-width: 576px) {
    .category-name {
        font-size: 0.9rem;
    }
}



    </style>




{% endblock%}