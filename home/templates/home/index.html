{% extends "base.html "%}
{% load static %}

{% block content %}

        <!--START for model based searching-->
        <div class="showcase">
          <div class="container">
              <div class="row">
                  <div class="col-md-8 d-flex align-items-center">
                      <div class="block clearfix search-box">
                          <div class="introInner">
                              <h2><br>Search for Your Device Below &</h2>
                              <h3>Find Out How Much It's Worth Instantly!</h3>
                          </div>
                          <form action="{% url 'search_results' %}" method="get" class="search-form" id="search-form">
                            <div class="input-group">
                                <input type="text" name="search" id="search-input" class="form-control search-input" placeholder="Enter your model" aria-label="Enter your model" aria-describedby="basic-addon1">
                                <div class="input-group-append">
                                    <button type="submit" id="search-button" class="input-group-text btn btn-primary">
                                        <img src="{% static 'images/search.png' %}" alt="search">
                                    </button>
                                </div>
                            </div>
                            <ul id="suggestions-list"></ul>
                            
                        </form>

                        <span id="error-message" class="error-message"></span>
                        
  
                          <!-- Display error message if search query is empty -->
                          {% if error_message %}
                              <div class="alert alert-danger mt-3">
                                  {{ error_message }}
                              </div>
                          {% endif %}
                      </div>
                  </div>
                  <div class="col-md-4">
                      <div class="block clearfix mobile-box">
                          <img src="{% static 'images/header-mobile.png' %}" alt="Home">
                      </div>
                  </div>
              </div>
          </div>
      </div>
  <!--START for model based searching-->
  
  <main>
  
	    
    <section class="sell-steps">
      <div class="container">
        <div class="row">
          <div class="col-md-12">
            <div class="block clearfix heading h-black">
              <h2>Sell your gadget in <span>4 simple steps</span></h2>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-3">
            <div class="block clearfix step">
              <img src="{% static 'images/steps/step1.png' %}" alt="step 1">
              <div class="content">
                <p>STEP 1</p>
                <h4>Register Sale</h4>
              </div>
            </div>
          </div>
          <div class="col-md-3">
            <div class="block clearfix step">
              <img src="{% static 'images/steps/step2.png' %}" alt="step 2">
              <div class="content">
                <p>STEP 2</p>
                <h4>Get FREE Postage</h4>
              </div>
            </div>
          </div>
          <div class="col-md-3">
            <div class="block clearfix step">
              <img src="{% static 'images/steps/step3.png' %}" alt="step 3">
              <div class="content">
                <p>STEP 3</p>
                <h4>Post Your Device</h4>
              </div>
            </div>
          </div>
          <div class="col-md-3">
            <div class="block clearfix step">
              <img src="{% static 'images/steps/step4.png' %}" alt="step 4">
              <div class="content">
                <p>STEP 4</p>
                <h4>Get Fast Payment</h4>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

   <!-- Popular devices start here -->
   <section class="popular-devices-section popular-items-middle">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="block clearfix heading h-black">
                    <h2>Popular <span>Devices</span></h2>
                </div>
            </div>
        </div>
        <div class="swiper-container device-swiper">
            <div class="swiper-wrapper">
                {% for category in categories %}
                    <a href="{% url 'category_brands' category.id %}" class="swiper-slide device">
                        {% if category.image %}
                            <img src="{{ category.image.url }}" alt="{{ category.name }}">
                        {% else %}
                            <img src="{% static 'images/default-image.jpg' %}" alt="Default Image">
                        {% endif %}
                        <h4>{{ category.name }}</h4>
                    </a>
                {% endfor %}
            </div>
        </div>
    </div>
</section>


<!-- Popular devices end here -->


<!---Top sellers starts here-->
      </section>
      <section class="top-sellers">
        <div class="container">
            <div class="row">
                <div class="col-md-12">
                    <div class="heading h-black">
                        <h2>Our Top <span>Sellers</span></h2>
                    </div>
                </div>
            </div>
            <div class="swiper-container seller-swiper">
              <div class="swiper-wrapper" style="transform: translate3d(0px, 0px, 0px);">
                    <!-- Slide 1 -->
                    <div class="swiper-slide">
                        <div class="content">
                            <img src="assets/images/seller/seller1.png" alt="iPhone X" class="phone-image">
                            <h6>Apple</h6>
                            <p>iPhone X - 32GB</p>
                            <div class="price">£65.00</div>
                        </div>
                    </div>
                    <!-- Slide 2 -->
                    <div class="swiper-slide">
                        <div class="content">
                            <img src="assets/images/seller/seller2.png" alt="Samsung Galaxy S8" class="phone-image">
                            <h6>Samsung</h6>
                            <p>Galaxy S8 - 64GB</p>
                            <div class="price">£45.00</div>
                        </div>
                    </div>

                     <!-- Slide 2 -->
                     <div class="swiper-slide">
                      <div class="content">
                          <img src="assets/images/seller/seller3.png" alt="Samsung Galaxy S8" class="phone-image">
                          <h6>Samsung</h6>
                          <p>Galaxy S8 - 64GB</p>
                          <div class="price">£45.00</div>
                      </div>
                  </div>

                   <!-- Slide 2 -->
                   <div class="swiper-slide">
                    <div class="content">
                        <img src="assets/images/seller/seller4.png" alt="Samsung Galaxy S8" class="phone-image">
                        <h6>Samsung</h6>
                        <p>Galaxy S8 - 64GB</p>
                        <div class="price">£45.00</div>
                    </div>
                </div>

                 <!-- Slide 2 -->
                 <div class="swiper-slide">
                  <div class="content">
                      <img src="assets/images/seller/seller5.png" alt="Samsung Galaxy S8" class="phone-image">
                      <h6>Samsung</h6>
                      <p>Galaxy S8 - 64GB</p>
                      <div class="price">£45.00</div>
                  </div>
              </div>

              <div class="swiper-slide">
                <div class="content">
                    <img src="assets/images/seller/seller5.png" alt="Samsung Galaxy S8" class="phone-image">
                    <h6>Samsung</h6>
                    <p>Galaxy S8 - 64GB</p>
                    <div class="price">£45.00</div>
                </div>
            </div>

            <div class="swiper-slide">
              <div class="content">
                  <img src="assets/images/seller/seller5.png" alt="Samsung Galaxy S8" class="phone-image">
                  <h6>Samsung</h6>
                  <p>Galaxy S8 - 64GB</p>
                  <div class="price">£45.00</div>
              </div>
          </div>
                    <!-- Add more slides as needed -->
                </div>
                <!-- Pagination controls -->
                <div class="swiper-pagination"></div>
            </div>
        </div>
    </section>
    
    <!---ends-->

    <!---Brands start Here-->
			          </div>
          <div class="swiper-pagination"></div>
        </div>
      </div>
      <section class="brand-heading-section">
        <div class="container">
          <div class="row">
            <div class="col-md-12">
              <div class="block clearfix heading h-white">
                <h2><span>Brands</span></h2>
              </div>
            </div>
          </div>
        </div>
      </section>
      <section class="brand-section clearfix">
        <div class="container">
          <div class="swiper-container brand-swiper swiper-container-horizontal">
            <div class="swiper-wrapper">
              {% for brand in brands %}
                <div class="swiper-slide" style="width: 162px; margin-right: 30px;">
                  <a href="{% url 'category_brands' category_id=brand.category_id %}" class="text-decoration-none d-block">
                    {% if brand.image %}
                      <img src="{{ brand.image.url }}" class="img-fluid manufacturer-image" alt="{{ brand.name }}">
                    {% else %}
                      <img src="{% static 'images/default-image.jpg' %}" class="img-fluid manufacturer-image" alt="Default Image">
                    {% endif %}
                  </a>
                </div>
              {% endfor %}
            </div>
            <!-- Swiper pagination and navigation controls -->
            <div class="swiper-pagination swiper-pagination-clickable swiper-pagination-bullets"></div>
            <span class="swiper-notification" aria-live="assertive" aria-atomic="true"></span>
          </div>
        </div>
      </section>
      
    <!---Ends-->

    <style>
      /* Add this to your styles.css file */
      
/* Error message styles */
.error-message {
  color: #ff0800;  /* Red color for error */
  background-color: #ffffff;  /* Light red background */
  border: 1px solid #ebccd1;  /* Red border */
  padding: 10px;
  margin-top: 10px;
  border-radius: 5px;
  font-size: 16px;
  font-weight: bold;
  display: none;  /* Hide by default */
  text-align: center;
}

/* Optional: Style for the input field when there's an error */
.search-input.error {
  border-color: #d9534f;  /* Red border */
  box-shadow: 0 0 5px rgba(211, 53, 79, 0.5);  /* Subtle glow effect */
}

      #suggestions-list {
  max-height: 200px;
  overflow-y: auto;
  width: 100%;
  background-color: #fff;
  z-index: 1000;
  display: inline-block;
  list-style-type: none;
  padding: 0;
}

#suggestions-list li {
  padding: 8px;
  cursor: pointer;
  border-bottom: 1px solid #998c8c;
  font-size: 15px;
  font-weight: 500;
}

#suggestions-list li:hover {
  background-color: #f0f0f0;
}



    </style>


{% endblock%}